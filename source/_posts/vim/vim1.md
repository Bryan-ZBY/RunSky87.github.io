---
title: vim 基础操作
date: 2021-08-12 15:49:21
tags: vim
categories: vim 实用技巧
---

# 常用操作符
- `.`: 重复上次修改
- `*`: 搜索当前光标所在位置的单词
- `/`: 向后搜索单词
- `?`: 向前搜索单词
- `:`: 进入命令行模式
- `u`: 撤销最新的一次修改
- `<C-r>`: 恢复撤销

<!-- more -->

# 插入模式

## 删除操作
- `<C-h>`: 删除前一个字符 
- `<C-w>`: 删除前一个单词
- `<C-u>`: 删除到行首

## 回到普通模式
- `<Esc>`: 退出
- `<C-[>`: 退出
- `<C-o>`: 很实用，退出执行一条普通命令，然后回到插入模式

## 数字操作
- `<C-r>=12*12<Enter>`: 数学运算结果，144


# 普通模式

## 移动操作
### 基本移动
- `h/j/k/l`: 光标左下上右移动
- `b`: 将光标移动到单词开头
- `e`: 将光标移动到单词结尾
- `w`: 将光标移动到下一个单词开头 
- `0`: 移动到行首
- `$`: 移动到行尾

### 跳转功能
- `3G`: 跳转到第 3 行
- `3gg`: 跳转到第 3 行
- `gg`: 跳转到文件开头
- `G`: 跳转到文件结尾
- `zz`: 将光标所在行居于屏幕中央
- `%`: 跳转到括号的匹配处
- `(/)`: 跳转到上一句/下一句的开头
- `{/}`: 跳转到上一段/下一段的开头
- `H/M/L`: 跳转到屏幕的最上方/正中间/最下方

- 跳转操作
```
- ``: 上上次编辑位置
- `.: 上次编辑的位置
- `[: 上次编辑的起点
- `]: 上次编辑的终点
- %h/%l: 括号匹配
```

- 跳转列表
```
:jumps: 查看跳转列表
<C-o>: 后退跳转
<C-i>: 前进跳转
```

- 改变列表
```
:changes: 查看改变列表
g,: 后退跳转
g;: 前进跳转
```

## 复制操作 - y
- 使用方式参照删除操作
- `:reg`: 查看粘贴板
- `"3p`: 使用粘贴板 `"3` 内容
- `"ayy`: 有名复制，粘贴方式: `"ap`
- `"_dd`: 删除但是不放到粘贴板


## 删除并进入编辑 - c
- 使用方式参照删除操作

## 删除操作 - d
- `de`: 删除光标位置到词尾
- `dw`: 删除光标位置到下一个词首
- `db`: 删除光标位置到词首
- `dd`: 删除光标所在一行
- `diw`: 删除光标所在位置单词，比 a 少个空格
- `daw`: 删除光标所在位置单词
- `daW`: 删除光标所在位置字串
- `das`: 删除光标所在句子
- `dap`: 删除光标所在段,空行为边界条件
- `dnd`: 向下删除 n 行
- `di}`: 删除所在代码块部分内容，参考可视化匹配

## 替换操作
- `r`: 替换单个字符
- `R`: 替换输入模式，等同于`<Insert>`键

## 操作数字
- `10<C-x>`: 对光标后第一个出现的数字减去十
- `10<C-a>`: 对光标后第一个出现的数字加上十

## 查找和跳转
### 行内查找 f/F
- `fn`: 行内向后搜索指定字符 n
- `Fn`: 行内向前搜索指定字符 n
- `,`: 跳到前一个匹配处
- `;`: 跳到后一个匹配处

### 行内查找 t/T
- 作用和 f/F 相似，光标停在他们匹配的字符前一个字符位置

### 全文查找
- `/text`: 向下全文搜索字符串 text
- `?text`: 向上全文搜索字符串 text

### 可视化匹配
- `vi}`: 所属代码块花括号内部部分全选
- `vi'`: 单引号内部字符串
- `vi"`: 花括号内部字符串
- `vi>`: 尖括号内部代码块
注：我们一般说，以 i开头的文本对象会选择分隔符内部的文本，而以 a 开头的文本对象则会选择包括分隔符在内的整个文本

## 大小写反转
- `g~`: 反转大小写
- `gu`: 转为小写
- `gU`: 转为大写
- `guu`: 当前行转为小写
- `gugu`: 同上，当前行转为小写
- `guaw`: 所在单词转为小写
- `guap`: 所在段落转为小写

# 命令行模式
- `:n`: 跳转到第 n 行
- `:print`: 输出光标所在行内容
- `:p`: 同上，print 的简写
- `:$`: 跳转到末尾
- `:3d`: 跳转到第3行，并删除第3行
- `:2,5p`: 输出第2行到第5行区间内容
- `:.p`: 输出当前行内容
- `:.+3`: 跳转到当前行下的第三行
- `:%p`: 输出文件所有行内容
- `v/V`: 可是选中区域
- `:'<,'>normal .`: 对高亮选区中的每一行，对其执行普通模式下的 .命令
- `:'<,'>normal A;`: 区间内每行行尾添加一个分号
- `:%normal I//`: 全文注释
- `:!ll`: 查看文件列表，给命令加一个叹号前缀就可以调用外部程序。
- `:shell`: 启动外部命令行，vim 置于后台，使用 exit 命令可以回到 vim。
